{"id":"ET-1","title":"Provider Router - Go LiteLLM Implementation","description":"Core provider-agnostic routing layer. Reimplements LiteLLM concepts in Go: unified OpenAI-compatible interface, provider adapters, load balancing, fallbacks, cost tracking. This is the foundation that decouples agent orchestration from any specific LLM provider.","status":"open","priority":0,"issue_type":"epic","created_at":"2026-02-24T21:21:44.648064507-07:00","updated_at":"2026-02-24T21:21:44.648064507-07:00"}
{"id":"ET-10","title":"Implement Google Gemini provider adapter","description":"Adapter for Google Gemini/Vertex AI. Handle auth (API key or service account), streaming, tool use translation.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-24T21:22:23.379626725-07:00","updated_at":"2026-02-24T21:22:23.379626725-07:00","dependencies":[{"issue_id":"ET-10","depends_on_id":"ET-6","type":"parent-child","created_at":"2026-02-24T21:23:04.38717664-07:00","created_by":"gbjohnso"}]}
{"id":"ET-11","title":"Build router with model-to-provider mapping","description":"Router that reads config and routes model requests to correct provider adapter. Support model aliases (e.g., 'supervisor' -\u003e 'anthropic/claude-sonnet-4-20250514').","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-24T21:22:23.453852784-07:00","updated_at":"2026-02-24T21:22:23.453852784-07:00","dependencies":[{"issue_id":"ET-11","depends_on_id":"ET-6","type":"parent-child","created_at":"2026-02-24T21:23:04.465103886-07:00","created_by":"gbjohnso"},{"issue_id":"ET-11","depends_on_id":"ET-7","type":"blocks","created_at":"2026-02-24T21:23:24.85420209-07:00","created_by":"gbjohnso"},{"issue_id":"ET-11","depends_on_id":"ET-9","type":"blocks","created_at":"2026-02-24T21:23:24.943194905-07:00","created_by":"gbjohnso"}]}
{"id":"ET-12","title":"Add fallback chain support to router","description":"When primary model/provider fails, automatically try fallback models. Configurable fallback chains per role. Error classification (rate limit, context window, auth, timeout).","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-24T21:22:23.533634766-07:00","updated_at":"2026-02-24T21:22:23.533634766-07:00","dependencies":[{"issue_id":"ET-12","depends_on_id":"ET-6","type":"parent-child","created_at":"2026-02-24T21:23:04.536545562-07:00","created_by":"gbjohnso"},{"issue_id":"ET-12","depends_on_id":"ET-11","type":"blocks","created_at":"2026-02-24T21:23:25.022907381-07:00","created_by":"gbjohnso"}]}
{"id":"ET-13","title":"Add load balancing to router","description":"Distribute requests across multiple deployments of same model. Strategies: round-robin, least-busy, latency-based. Health checking with cooldown.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-24T21:22:23.614282113-07:00","updated_at":"2026-02-24T21:22:23.614282113-07:00","dependencies":[{"issue_id":"ET-13","depends_on_id":"ET-6","type":"parent-child","created_at":"2026-02-24T21:23:04.608376173-07:00","created_by":"gbjohnso"},{"issue_id":"ET-13","depends_on_id":"ET-11","type":"blocks","created_at":"2026-02-24T21:23:25.103554803-07:00","created_by":"gbjohnso"}]}
{"id":"ET-14","title":"Add cost tracking to router","description":"Track token usage and estimated cost per request, per model, per role. Price tables for known models. Budget limits per role/session.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-24T21:22:23.694792962-07:00","updated_at":"2026-02-24T21:22:23.694792962-07:00","dependencies":[{"issue_id":"ET-14","depends_on_id":"ET-6","type":"parent-child","created_at":"2026-02-24T21:23:04.681512189-07:00","created_by":"gbjohnso"},{"issue_id":"ET-14","depends_on_id":"ET-11","type":"blocks","created_at":"2026-02-24T21:23:25.184154044-07:00","created_by":"gbjohnso"}]}
{"id":"ET-15","title":"Analyze gastown source for Claude Code coupling points","description":"Map every file/function in gastown that references Claude Code, Anthropic, or hardcoded provider assumptions. Produce a coupling report for surgical replacement.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-24T21:22:34.944127068-07:00","updated_at":"2026-02-24T21:22:34.944127068-07:00","dependencies":[{"issue_id":"ET-15","depends_on_id":"ET-2","type":"parent-child","created_at":"2026-02-24T21:23:04.838768288-07:00","created_by":"gbjohnso"}]}
{"id":"ET-16","title":"Abstract agent session layer from Claude Code","description":"Gastown's session layer manages Claude Code instances via settings.json hooks. Replace with generic agent session that launches any LLM-backed agent via the provider router.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-24T21:22:35.031050608-07:00","updated_at":"2026-02-24T21:22:35.031050608-07:00","dependencies":[{"issue_id":"ET-16","depends_on_id":"ET-2","type":"parent-child","created_at":"2026-02-24T21:23:04.906580369-07:00","created_by":"gbjohnso"},{"issue_id":"ET-16","depends_on_id":"ET-15","type":"blocks","created_at":"2026-02-24T21:23:25.25226618-07:00","created_by":"gbjohnso"}]}
{"id":"ET-17","title":"Implement generic agent launcher (replace Claude Code spawning)","description":"Replace gastown's Claude Code tmux session spawning with a generic agent launcher that starts an LLM session via the provider router. Support both interactive and non-interactive modes.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-24T21:22:35.105371946-07:00","updated_at":"2026-02-24T21:22:35.105371946-07:00","dependencies":[{"issue_id":"ET-17","depends_on_id":"ET-2","type":"parent-child","created_at":"2026-02-24T21:23:04.993129168-07:00","created_by":"gbjohnso"},{"issue_id":"ET-17","depends_on_id":"ET-16","type":"blocks","created_at":"2026-02-24T21:23:25.327903218-07:00","created_by":"gbjohnso"},{"issue_id":"ET-17","depends_on_id":"ET-11","type":"blocks","created_at":"2026-02-24T21:23:25.402449547-07:00","created_by":"gbjohnso"}]}
{"id":"ET-18","title":"Adapt polecat lifecycle for multi-provider","description":"Ensure polecat identity/session/sandbox layers work with any provider. Model assignment per polecat configurable. Idle/working/stalled states provider-agnostic.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-24T21:22:35.186265456-07:00","updated_at":"2026-02-24T21:22:35.186265456-07:00","dependencies":[{"issue_id":"ET-18","depends_on_id":"ET-2","type":"parent-child","created_at":"2026-02-24T21:23:05.078569545-07:00","created_by":"gbjohnso"},{"issue_id":"ET-18","depends_on_id":"ET-17","type":"blocks","created_at":"2026-02-24T21:23:25.491123739-07:00","created_by":"gbjohnso"}]}
{"id":"ET-19","title":"Adapt Mayor role for configurable supervisor model","description":"Mayor currently assumes Claude. Make supervisor model configurable â€” any frontier model can be Mayor. Preserve convoy creation and work decomposition patterns.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-24T21:22:35.266629718-07:00","updated_at":"2026-02-24T21:22:35.266629718-07:00","dependencies":[{"issue_id":"ET-19","depends_on_id":"ET-2","type":"parent-child","created_at":"2026-02-24T21:23:05.153900387-07:00","created_by":"gbjohnso"},{"issue_id":"ET-19","depends_on_id":"ET-17","type":"blocks","created_at":"2026-02-24T21:23:25.573139335-07:00","created_by":"gbjohnso"}]}
{"id":"ET-2","title":"Agent Orchestrator - Gastown Fork Adaptation","description":"Fork and adapt gastown's multi-agent orchestration (Mayor, Polecats, Crew, Witness, Refinery) to use the Provider Router instead of Claude Code. Replace hooks-based Claude Code integration with generic provider interface. Preserve gastown's work decomposition patterns (convoys, beads, worktrees).","status":"open","priority":0,"issue_type":"epic","created_at":"2026-02-24T21:21:50.014477888-07:00","updated_at":"2026-02-24T21:21:50.014477888-07:00"}
{"id":"ET-20","title":"Adapt Witness and Refinery for generic agents","description":"Ensure monitoring (Witness) and merge queue (Refinery) roles work with provider-agnostic agent sessions.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-24T21:22:35.347410255-07:00","updated_at":"2026-02-24T21:22:35.347410255-07:00","dependencies":[{"issue_id":"ET-20","depends_on_id":"ET-2","type":"parent-child","created_at":"2026-02-24T21:23:05.222773682-07:00","created_by":"gbjohnso"},{"issue_id":"ET-20","depends_on_id":"ET-17","type":"blocks","created_at":"2026-02-24T21:23:25.653884111-07:00","created_by":"gbjohnso"}]}
{"id":"ET-21","title":"Design YAML config schema for model routing","description":"Config format mapping: roles -\u003e models -\u003e providers. Support aliases, fallbacks, per-role overrides. Example: mayor: {model: claude-sonnet-4-20250514, provider: anthropic}, polecat: {model: qwen3-coder:32b, provider: ollama-local}.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-24T21:22:42.904025951-07:00","updated_at":"2026-02-24T21:22:42.904025951-07:00","dependencies":[{"issue_id":"ET-21","depends_on_id":"ET-3","type":"parent-child","created_at":"2026-02-24T21:23:10.082593116-07:00","created_by":"gbjohnso"}]}
{"id":"ET-22","title":"Implement config parser and validator","description":"Go config parser for the YAML schema. Validate model/provider combinations. Error on invalid configs before launching agents.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-24T21:22:42.985834249-07:00","updated_at":"2026-02-24T21:22:42.985834249-07:00","dependencies":[{"issue_id":"ET-22","depends_on_id":"ET-3","type":"parent-child","created_at":"2026-02-24T21:23:10.164952853-07:00","created_by":"gbjohnso"},{"issue_id":"ET-22","depends_on_id":"ET-21","type":"blocks","created_at":"2026-02-24T21:23:25.728249698-07:00","created_by":"gbjohnso"}]}
{"id":"ET-23","title":"Build et CLI entry point (adapt gt)","description":"Rename/adapt gastown's gt CLI to et (electrictown). Preserve core commands: sling, done, prime, mail. Add provider-specific commands: et models, et providers, et route.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-24T21:22:43.067578035-07:00","updated_at":"2026-02-24T21:22:43.067578035-07:00","dependencies":[{"issue_id":"ET-23","depends_on_id":"ET-3","type":"parent-child","created_at":"2026-02-24T21:23:10.245431207-07:00","created_by":"gbjohnso"},{"issue_id":"ET-23","depends_on_id":"ET-22","type":"blocks","created_at":"2026-02-24T21:23:25.809596872-07:00","created_by":"gbjohnso"}]}
{"id":"ET-24","title":"Replace go-openai with native OpenAI HTTP client","description":"Remove sashabaranov/go-openai dependency. Implement native HTTP client for OpenAI API with SSE streaming. Only external dep should be net/http.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-24T21:22:50.622287038-07:00","updated_at":"2026-02-24T21:22:50.622287038-07:00","dependencies":[{"issue_id":"ET-24","depends_on_id":"ET-4","type":"parent-child","created_at":"2026-02-24T21:23:10.326337599-07:00","created_by":"gbjohnso"},{"issue_id":"ET-24","depends_on_id":"ET-7","type":"blocks","created_at":"2026-02-24T21:23:26.297566018-07:00","created_by":"gbjohnso"}]}
{"id":"ET-25","title":"Replace ollama/api with native Ollama HTTP client","description":"Remove ollama/api dependency. Implement native HTTP client for Ollama REST API. Same API works for local and cloud.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-24T21:22:50.705673657-07:00","updated_at":"2026-02-24T21:22:50.705673657-07:00","dependencies":[{"issue_id":"ET-25","depends_on_id":"ET-4","type":"parent-child","created_at":"2026-02-24T21:23:10.40666124-07:00","created_by":"gbjohnso"},{"issue_id":"ET-25","depends_on_id":"ET-9","type":"blocks","created_at":"2026-02-24T21:23:26.379463651-07:00","created_by":"gbjohnso"}]}
{"id":"ET-26","title":"Replace anthropic-sdk-go with native Anthropic HTTP client","description":"Remove any Anthropic SDK dependency. Implement native HTTP client for Messages API with SSE streaming.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-24T21:22:50.780479829-07:00","updated_at":"2026-02-24T21:22:50.780479829-07:00","dependencies":[{"issue_id":"ET-26","depends_on_id":"ET-4","type":"parent-child","created_at":"2026-02-24T21:23:10.474442833-07:00","created_by":"gbjohnso"},{"issue_id":"ET-26","depends_on_id":"ET-8","type":"blocks","created_at":"2026-02-24T21:23:26.461716224-07:00","created_by":"gbjohnso"}]}
{"id":"ET-27","title":"Audit and replace remaining 3rd party dependencies","description":"Review all go.mod dependencies. For each non-stdlib dependency, assess: keep (provider SDK), replace (implement native), or remove (unused). Track each replacement.","status":"open","priority":3,"issue_type":"task","created_at":"2026-02-24T21:22:50.875451759-07:00","updated_at":"2026-02-24T21:22:50.875451759-07:00","dependencies":[{"issue_id":"ET-27","depends_on_id":"ET-4","type":"parent-child","created_at":"2026-02-24T21:23:10.566053052-07:00","created_by":"gbjohnso"}]}
{"id":"ET-28","title":"PoC: Single supervisor + single worker round-trip","description":"Minimum demo: Claude (supervisor) receives a coding task, decomposes it, sends subtask to local Ollama (worker), collects result. Proves the routing layer works end-to-end.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-24T21:22:57.686488599-07:00","updated_at":"2026-02-24T21:22:57.686488599-07:00","dependencies":[{"issue_id":"ET-28","depends_on_id":"ET-5","type":"parent-child","created_at":"2026-02-24T21:23:10.633883076-07:00","created_by":"gbjohnso"},{"issue_id":"ET-28","depends_on_id":"ET-11","type":"blocks","created_at":"2026-02-24T21:23:25.89514498-07:00","created_by":"gbjohnso"},{"issue_id":"ET-28","depends_on_id":"ET-9","type":"blocks","created_at":"2026-02-24T21:23:25.970747503-07:00","created_by":"gbjohnso"},{"issue_id":"ET-28","depends_on_id":"ET-21","type":"blocks","created_at":"2026-02-24T21:23:26.052683739-07:00","created_by":"gbjohnso"}]}
{"id":"ET-29","title":"PoC: Multi-worker parallel execution","description":"Extend PoC: supervisor decomposes task into N subtasks, routes to N Ollama workers in parallel, collects and merges results.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-24T21:22:57.776435939-07:00","updated_at":"2026-02-24T21:22:57.776435939-07:00","dependencies":[{"issue_id":"ET-29","depends_on_id":"ET-5","type":"parent-child","created_at":"2026-02-24T21:23:10.714775242-07:00","created_by":"gbjohnso"},{"issue_id":"ET-29","depends_on_id":"ET-28","type":"blocks","created_at":"2026-02-24T21:23:26.133400051-07:00","created_by":"gbjohnso"}]}
{"id":"ET-3","title":"Configuration and CLI System","description":"YAML-driven configuration for model-to-provider mapping per agent role. Adapt gastown's gt CLI for electrictown (et CLI). Support role-based model assignment (e.g., Mayor uses Claude, Polecats use local Ollama).","status":"open","priority":1,"issue_type":"epic","created_at":"2026-02-24T21:21:55.278180783-07:00","updated_at":"2026-02-24T21:21:55.278180783-07:00"}
{"id":"ET-30","title":"PoC: Mixed cloud+local worker routing","description":"Demo routing some subtasks to Ollama cloud models and others to local Ollama, based on task complexity or config rules.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-24T21:22:57.850057223-07:00","updated_at":"2026-02-24T21:22:57.850057223-07:00","dependencies":[{"issue_id":"ET-30","depends_on_id":"ET-5","type":"parent-child","created_at":"2026-02-24T21:23:10.795129842-07:00","created_by":"gbjohnso"},{"issue_id":"ET-30","depends_on_id":"ET-29","type":"blocks","created_at":"2026-02-24T21:23:26.216311239-07:00","created_by":"gbjohnso"}]}
{"id":"ET-4","title":"Dependency Replacement - Self-Contained Goal","description":"Track and plan replacement of all 3rd party libraries with native Go implementations. PoC uses external libs (go-openai, ollama/api, etc.) but medium-term goal is self-contained with only provider SDKs as external deps. Each task represents one library to internalize.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-02-24T21:22:01.195124265-07:00","updated_at":"2026-02-24T21:22:01.195124265-07:00"}
{"id":"ET-5","title":"End-to-End PoC - Supervisor + Worker Demo","description":"Proof of concept: frontier model (e.g., Claude/GPT-4) supervises a coding task, decomposes it, routes subtasks to local Ollama workers. Demonstrates the full loop: task assignment, model routing, work execution, result collection. Minimum viable demonstration of the electrictown concept.","status":"open","priority":0,"issue_type":"epic","created_at":"2026-02-24T21:22:07.295345877-07:00","updated_at":"2026-02-24T21:22:07.295345877-07:00"}
{"id":"ET-6","title":"Define provider interface (Router contract)","description":"Design the core Go interface that all provider adapters must implement: ChatCompletion, StreamChatCompletion, ListModels, Embeddings. OpenAI-compatible request/response types.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-24T21:22:23.055997714-07:00","updated_at":"2026-02-24T21:22:23.055997714-07:00","dependencies":[{"issue_id":"ET-6","depends_on_id":"ET-1","type":"parent-child","created_at":"2026-02-24T21:23:04.763170111-07:00","created_by":"gbjohnso"}]}
{"id":"ET-7","title":"Implement OpenAI provider adapter","description":"Adapter for OpenAI API (GPT-4, GPT-4o, o1, etc.). Handles auth, streaming SSE, error mapping. PoC: use go-openai library.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-24T21:22:23.144931062-07:00","updated_at":"2026-02-24T21:22:23.144931062-07:00","dependencies":[{"issue_id":"ET-7","depends_on_id":"ET-6","type":"parent-child","created_at":"2026-02-24T21:23:04.134414132-07:00","created_by":"gbjohnso"}]}
{"id":"ET-8","title":"Implement Anthropic provider adapter","description":"Adapter for Anthropic Messages API (Claude models). Handle messages format translation to/from unified interface. PoC: use anthropic-sdk-go or HTTP client.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-24T21:22:23.225077953-07:00","updated_at":"2026-02-24T21:22:23.225077953-07:00","dependencies":[{"issue_id":"ET-8","depends_on_id":"ET-6","type":"parent-child","created_at":"2026-02-24T21:23:04.211181387-07:00","created_by":"gbjohnso"}]}
{"id":"ET-9","title":"Implement Ollama provider adapter (local + cloud)","description":"Single adapter for both local Ollama and Ollama cloud (same API, different host+auth). Handle model listing, chat completion, streaming. PoC: use ollama/api Go client.","status":"open","priority":0,"issue_type":"task","created_at":"2026-02-24T21:22:23.304980924-07:00","updated_at":"2026-02-24T21:22:23.304980924-07:00","dependencies":[{"issue_id":"ET-9","depends_on_id":"ET-6","type":"parent-child","created_at":"2026-02-24T21:23:04.296513509-07:00","created_by":"gbjohnso"}]}
